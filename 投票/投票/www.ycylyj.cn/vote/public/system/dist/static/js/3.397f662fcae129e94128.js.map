{"version":3,"sources":["webpack:///src/view/Index.vue","webpack:///./src/view/Index.vue?d987","webpack:///./src/view/Index.vue","webpack:///./src/assets/cover3.jpg"],"names":["Index","name","data","active","list","loading","finished","page","mounted","this","fecthList","methods","onLoading","self","$axios","get","params","then","res","console","log","code","length","$toast","concat","msg","catch","err","localStorage","clear","window","location","href","getDateString","timestamp","Date","parseInt","toLocaleDateString","replace","getStringObj","value","substring","view_Index","render","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","_l","item","key","id","attrs","title","on","click","$event","$router","push","pid","_s","desc","start_time","end_time","active-color","model","callback","$$v","expression","icon","staticRenderFns","src","__webpack_require__","alt","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/3.397f662fcae129e94128.js","sourcesContent":["<template>\n  <div>\n    <div class=\"cover\">\n      <img src=\"../assets/cover3.jpg\" alt=\"\">\n    </div>\n    <div class=\"main\">\n      <div class=\"list\">\n        <!-- <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\"> -->\n        <div class=\"list-box\">\n          <ul>\n            <li v-for=\"item in list\" :key=\"item.id\" :title=\"item.id\">\n              <div @click=\"$router.push({ name:'works', params: { pid: item.id } })\">\n                <div class=\"title\">{{item.name}}</div>\n                <div class=\"content\">\n                  <label>活动介绍</label>\n                  <article>{{getStringObj(item.desc)}}</article>\n                </div>\n                <div class=\"footer\">\n                  <label>开始/结束</label>\n                  <div>{{getDateString(item.start_time)}}</div>\n                  <div>{{getDateString(item.end_time)}}</div>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n\n        <!-- </van-list> -->\n        <div class=\"loading\" @click=\"onLoading\">加载更多...</div>\n      </div>\n    </div>\n    <p>\n      <br>\n    </p>\n    <van-tabbar v-model=\"active\" active-color=\"#ff5959\">\n      <van-tabbar-item icon=\"home-o\">主页</van-tabbar-item>\n      <van-tabbar-item icon=\"user-o\">我的</van-tabbar-item>\n    </van-tabbar>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"index\",\n  data() {\n    return {\n      active: 0,\n      list: [],\n      loading: false,\n      finished: false,\n      page: 1\n    };\n  },\n  mounted() {\n    this.fecthList();\n  },\n  methods: {\n    onLoading() {\n      // this.loading = true;\n      this.page++\n      this.fecthList();\n    },\n    fecthList() {\n      let self = this;\n      this.$axios.get('/api/event/get_list', {\n        params: {\n          page: self.page\n        }\n      })\n        .then(function (res) {\n          console.log(res);\n          if (res.code === 1) {\n            if (res.data.length <= 0) {\n              self.$toast('暂无更多');\n              --self.page\n              return false;\n            }\n            if (self.page >= 2) {\n              self.list = self.list.concat(res.data);\n            } else {\n              self.list = res.data;\n            }\n          } else {\n            self.$toast(res.msg);\n            --self.page\n          }\n\n        }).catch(function (err) {\n          localStorage.clear();\n          window.location.href = '/login'\n        });\n    },\n    // 获取日期字符串\n    getDateString(timestamp) {\n      return new Date(parseInt(timestamp) * 1000).toLocaleDateString().replace(/\\//g, '-');\n    },\n    // 截取字符串\n    getStringObj(value) {\n      return value.substring(0, 57);\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 淡入-从左 */\n@keyframes fadeinL {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateX(150px);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: translateX(0);\n  }\n}\n.cover {\n  background-color: inherit;\n}\n\n.cover img {\n  width: 100%;\n}\n\n.main {\n  position: relative;\n  background-color: inherit;\n}\n.list {\n  position: absolute;\n  top: -40px;\n  left: 14px;\n  right: 14px;\n  min-height: inherit;\n  padding-bottom: 5rem;\n}\n\n.list-box {\n  background-color: inherit;\n}\n\n.list-box ul {\n  min-height: inherit;\n}\n\n.list-box ul li {\n  list-style: none;\n  min-height: 100px;\n  color: #666;\n  font-size: 12px;\n  padding: 10px;\n  border-radius: 8px;\n  box-shadow: 0 4px 10px #d0d9ef;\n  background-color: #fff;\n  margin-bottom: 14px;\n  position: relative;\n  overflow: hidden;\n  animation: fadeinL 0.8s;\n}\n\n.list-box ul li:nth-child(-n + 2):before {\n  background: #ff5959;\n  content: \" hot \";\n  position: absolute;\n  top: 2px;\n  right: -40px;\n  width: 105px;\n  font-size: 10px;\n  padding: 3px 0;\n  color: #fff;\n  text-align: center;\n  transform: rotate(45deg);\n  z-index: 1;\n}\n\n.title {\n  font-size: 14px;\n  font-weight: 400;\n  margin-bottom: 5px;\n}\n\n.content {\n  color: #777;\n  padding: 3px;\n  min-height: 3rem;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n  letter-spacing: 1.3px;\n}\n\n.content label {\n  width: 68px;\n}\n\n.content article {\n  flex: 1;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n  overflow: hidden;\n}\n\n.footer {\n  color: #777;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 3px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n}\n\n.footer label {\n  width: 68px;\n}\n\n.footer div {\n  flex: 1;\n}\n\n.loading {\n  padding: 10px 0;\n  text-align: center;\n  color: #999;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"list-box\"},[_c('ul',_vm._l((_vm.list),function(item){return _c('li',{key:item.id,attrs:{\"title\":item.id}},[_c('div',{on:{\"click\":function($event){return _vm.$router.push({ name:'works', params: { pid: item.id } })}}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('label',[_vm._v(\"活动介绍\")]),_vm._v(\" \"),_c('article',[_vm._v(_vm._s(_vm.getStringObj(item.desc)))])]),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('label',[_vm._v(\"开始/结束\")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.getDateString(item.start_time)))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.getDateString(item.end_time)))])])])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"loading\",on:{\"click\":_vm.onLoading}},[_vm._v(\"加载更多...\")])])]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('van-tabbar',{attrs:{\"active-color\":\"#ff5959\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{attrs:{\"icon\":\"home-o\"}},[_vm._v(\"主页\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"user-o\"}},[_vm._v(\"我的\")])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":require(\"../assets/cover3.jpg\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('br')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4abee6bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4abee6bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4abee6bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4abee6bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/Index.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/cover3.a5e21ed.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/cover3.jpg\n// module id = xTjS\n// module chunks = 3"],"sourceRoot":""}